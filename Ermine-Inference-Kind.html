<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ermine.Inference.Kind</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ermine-Inference-Kind.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ermine-Inference-Kind.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ermine-0.6: Ermine</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Edward Kmett 2011-2012</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Ermine.Inference.Kind</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:inferKind">inferKind</a> :: <a href="Ermine-Unification-Meta.html#t:MonadMeta">MonadMeta</a> s m =&gt; <a href="Ermine-Syntax-Type.html#t:Type">Type</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s) -&gt; m (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s)</li><li class="src short"><a href="#v:checkKind">checkKind</a> :: <a href="Ermine-Unification-Meta.html#t:MonadMeta">MonadMeta</a> s m =&gt; <a href="Ermine-Syntax-Type.html#t:Type">Type</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s) -&gt; <a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s -&gt; m ()</li><li class="src short"><a href="#v:checkDataTypeKinds">checkDataTypeKinds</a> ::  [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> () Text] -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> Void Void]</li><li class="src short"><a href="#v:checkDataTypeGroup">checkDataTypeGroup</a> ::  [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> () Text] -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> Void Void]</li><li class="src short"><a href="#v:checkDataTypeKind">checkDataTypeKind</a> ::  Map Text (<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) a) -&gt; <a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) Text -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s ([<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s], <a href="Ermine-Syntax-Kind.html#t:Schema">Schema</a> v)</li><li class="src short"><a href="#v:checkConstructorKind">checkConstructorKind</a> ::  <a href="Ermine-Syntax-DataType.html#t:Constructor">Constructor</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s) -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:inferKind" class="def">inferKind</a> :: <a href="Ermine-Unification-Meta.html#t:MonadMeta">MonadMeta</a> s m =&gt; <a href="Ermine-Syntax-Type.html#t:Type">Type</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s) -&gt; m (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s) <a href="src/Ermine-Inference-Kind.html#inferKind" class="link">Source</a></p><div class="doc"><p>Infer a kind for a given type.</p></div></div><div class="top"><p class="src"><a name="v:checkKind" class="def">checkKind</a> :: <a href="Ermine-Unification-Meta.html#t:MonadMeta">MonadMeta</a> s m =&gt; <a href="Ermine-Syntax-Type.html#t:Type">Type</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s) -&gt; <a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s -&gt; m () <a href="src/Ermine-Inference-Kind.html#checkKind" class="link">Source</a></p><div class="doc"><p>Check that the <code><a href="Ermine-Syntax-Kind.html#t:Kind">Kind</a></code> of a given <code><a href="Ermine-Syntax-Type.html#t:Type">Type</a></code> can unify with the specified kind.</p></div></div><div class="top"><p class="src"><a name="v:checkDataTypeKinds" class="def">checkDataTypeKinds</a> ::  [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> () Text] -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> Void Void] <a href="src/Ermine-Inference-Kind.html#checkDataTypeKinds" class="link">Source</a></p><div class="doc"><p>Checks a list of data types for well-kindedness. The unit in the kind
 variables is interpreted as an unknown, which must be determined by the
 algorithm. The string variables may refer to other data types in the
 group. During the process, all unknowns will be solved or generalized,
 and all type variables will be replaced by the respective constructor
 with the appropriate schematic type. These are returned from the
 procedure.</p><p>TODO: Currently, the following example fails with a skolem escape:</p><pre>   data Foo (a : k) = Foo (Bar a)
   data Bar a = Bar (Foo a)
 </pre><p>This is because Foo and Bar must be checked as a group, k is skolemized
 for the checking of Foo, but its type leaks to Bar's unknown kind.
 Resolving this may be complicated, as it requires a similar
 explicit/implicit divide as checking lets, but partial annotations are
 possible. One solution may be to infer first and then check against
 annotations. Kind checking is Hindley-Milner, so this is viable.</p></div></div><div class="top"><p class="src"><a name="v:checkDataTypeGroup" class="def">checkDataTypeGroup</a> ::  [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> () Text] -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s [<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> Void Void] <a href="src/Ermine-Inference-Kind.html#checkDataTypeGroup" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:checkDataTypeKind" class="def">checkDataTypeKind</a> ::  Map Text (<a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) a) -&gt; <a href="Ermine-Syntax-DataType.html#t:DataType">DataType</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) Text -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s ([<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s], <a href="Ermine-Syntax-Kind.html#t:Schema">Schema</a> v) <a href="src/Ermine-Inference-Kind.html#checkDataTypeKind" class="link">Source</a></p><div class="doc"><p>Checks that the types in a data declaration have sensible kinds.</p></div></div><div class="top"><p class="src"><a name="v:checkConstructorKind" class="def">checkConstructorKind</a> ::  <a href="Ermine-Syntax-DataType.html#t:Constructor">Constructor</a> (<a href="Ermine-Unification-Meta.html#t:MetaK">MetaK</a> s) (<a href="Ermine-Unification-Meta.html#t:KindM">KindM</a> s) -&gt; <a href="Ermine-Unification-Meta.html#t:M">M</a> s () <a href="src/Ermine-Inference-Kind.html#checkConstructorKind" class="link">Source</a></p><div class="doc"><p>Checks that the types in a data constructor have sensible kinds.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.1</p></div></body></html>