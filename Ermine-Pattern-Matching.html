<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ermine.Pattern.Matching</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ermine-Pattern-Matching.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ermine-Pattern-Matching.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ermine-0.6: Ermine</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Dan Doel and Edward Kmett 2013-2014</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Dan Doel &lt;dan.doel@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ermine.Pattern.Matching</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Matching</a></li><li><a href="#g:2">Compilation</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Matching">Matching</a> c a = <a href="#v:Matching">Matching</a> {<ul class="subs"><li><a href="#v:_pathMap">_pathMap</a> :: HashMap <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> (c a)</li><li><a href="#v:_colCores">_colCores</a> :: [c a]</li><li><a href="#v:_colPaths">_colPaths</a> :: [<a href="Ermine-Syntax-Pattern.html#t:PatternPaths">PatternPaths</a>]</li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasMatching">HasMatching</a> t c a | t -&gt; c a <span class="keyword">where</span><ul class="subs"><li><a href="#v:matching">matching</a> :: Lens' t (<a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c a)</li><li><a href="#v:colCores">colCores</a> :: Lens' t [c a]</li><li><a href="#v:colPaths">colPaths</a> :: Lens' t [<a href="Ermine-Syntax-Pattern.html#t:PatternPaths">PatternPaths</a>]</li><li><a href="#v:pathMap">pathMap</a> :: Lens' t (HashMap <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> (c a))</li></ul></li><li class="src short"><a href="#v:compile">compile</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; <a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c a -&gt; <a href="Ermine-Pattern-Matrix.html#t:PatternMatrix">PatternMatrix</a> t c a -&gt; m (c a)</li><li class="src short"><a href="#v:compileBinding">compileBinding</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; [[<a href="Ermine-Syntax-Pattern.html#t:Pattern">Pattern</a> t]] -&gt; [<a href="Ermine-Syntax-Pattern.html#t:Guarded">Guarded</a> (Scope <a href="Ermine-Syntax-Term.html#t:BodyBound">BodyBound</a> c a)] -&gt; [[Scope (Var <a href="Ermine-Syntax-Term.html#t:WhereBound">WhereBound</a> Word32) c a]] -&gt; m (Scope Word32 c a)</li><li class="src short"><a href="#v:compileLambda">compileLambda</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; [<a href="Ermine-Syntax-Pattern.html#t:Pattern">Pattern</a> t] -&gt; Scope <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> c a -&gt; m (Scope Word8 c a)</li><li class="src short"><a href="#v:compileCase">compileCase</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; [<a href="Ermine-Syntax-Pattern.html#t:Pattern">Pattern</a> t] -&gt; c a -&gt; [<a href="Ermine-Syntax-Pattern.html#t:Guarded">Guarded</a> (Scope <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> c a)] -&gt; m (c a)</li></ul></div><div id="interface"><h1 id="g:1">Matching</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Matching" class="def">Matching</a> c a <a href="src/Ermine-Pattern-Matching.html#Matching" class="link">Source</a></p><div class="doc"><p>Additional information needed for pattern compilation that does not
 really belong in the pattern matrix.</p><p>The <code><a href="Ermine-Pattern-Matching.html#v:pathMap">pathMap</a></code> stores information for resolving previous levels of the
 pattern to appropriate cores for the current context.</p><p><code><a href="Ermine-Pattern-Matching.html#v:colCores">colCores</a></code> contains core terms that refer to each of the columns of the
 matrix in the current context.</p><p><code><a href="Ermine-Pattern-Matching.html#v:colPaths">colPaths</a></code> contains the paths into the original pattern that correspond to
 each of the current columns.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Matching" class="def">Matching</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_pathMap" class="def">_pathMap</a> :: HashMap <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> (c a)</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_colCores" class="def">_colCores</a> :: [c a]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_colPaths" class="def">_colPaths</a> :: [<a href="Ermine-Syntax-Pattern.html#t:PatternPaths">PatternPaths</a>]</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Matching" class="caption collapser" onclick="toggleSection('i:Matching')">Instances</p><div id="section.i:Matching" class="show"><table><tr><td class="src">Functor c =&gt; Functor (<a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Foldable c =&gt; Foldable (<a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Traversable c =&gt; Traversable (<a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ermine-Pattern-Matching.html#t:HasMatching">HasMatching</a> (<a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c a) c a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HasMatching" class="def">HasMatching</a> t c a | t -&gt; c a <span class="keyword">where</span> <a href="src/Ermine-Pattern-Matching.html#HasMatching" class="link">Source</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Ermine-Pattern-Matching.html#v:matching">matching</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:matching" class="def">matching</a> :: Lens' t (<a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c a) <a href="src/Ermine-Pattern-Matching.html#matching" class="link">Source</a></p><p class="src"><a name="v:colCores" class="def">colCores</a> :: Lens' t [c a] <a href="src/Ermine-Pattern-Matching.html#colCores" class="link">Source</a></p><p class="src"><a name="v:colPaths" class="def">colPaths</a> :: Lens' t [<a href="Ermine-Syntax-Pattern.html#t:PatternPaths">PatternPaths</a>] <a href="src/Ermine-Pattern-Matching.html#colPaths" class="link">Source</a></p><p class="src"><a name="v:pathMap" class="def">pathMap</a> :: Lens' t (HashMap <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> (c a)) <a href="src/Ermine-Pattern-Matching.html#pathMap" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HasMatching" class="caption collapser" onclick="toggleSection('i:HasMatching')">Instances</p><div id="section.i:HasMatching" class="show"><table><tr><td class="src"><a href="Ermine-Pattern-Matching.html#t:HasMatching">HasMatching</a> (<a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c a) c a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Compilation</h1><div class="top"><p class="src"><a name="v:compile" class="def">compile</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; <a href="Ermine-Pattern-Matching.html#t:Matching">Matching</a> c a -&gt; <a href="Ermine-Pattern-Matrix.html#t:PatternMatrix">PatternMatrix</a> t c a -&gt; m (c a) <a href="src/Ermine-Pattern-Matching.html#compile" class="link">Source</a></p><div class="doc"><p>Compiles a pattern matrix together with a corresponding set of core
 branches to a final Core value, which will be the decision tree version
 of the pattern matrix.</p></div></div><div class="top"><p class="src"><a name="v:compileBinding" class="def">compileBinding</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; [[<a href="Ermine-Syntax-Pattern.html#t:Pattern">Pattern</a> t]] -&gt; [<a href="Ermine-Syntax-Pattern.html#t:Guarded">Guarded</a> (Scope <a href="Ermine-Syntax-Term.html#t:BodyBound">BodyBound</a> c a)] -&gt; [[Scope (Var <a href="Ermine-Syntax-Term.html#t:WhereBound">WhereBound</a> Word32) c a]] -&gt; m (Scope Word32 c a) <a href="src/Ermine-Pattern-Matching.html#compileBinding" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compileLambda" class="def">compileLambda</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; [<a href="Ermine-Syntax-Pattern.html#t:Pattern">Pattern</a> t] -&gt; Scope <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> c a -&gt; m (Scope Word8 c a) <a href="src/Ermine-Pattern-Matching.html#compileLambda" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compileCase" class="def">compileCase</a> :: (<a href="Ermine-Pattern-Env.html#t:MonadPattern">MonadPattern</a> m, <a href="Ermine-Syntax-Core.html#t:Cored">Cored</a> c) =&gt; [<a href="Ermine-Syntax-Pattern.html#t:Pattern">Pattern</a> t] -&gt; c a -&gt; [<a href="Ermine-Syntax-Pattern.html#t:Guarded">Guarded</a> (Scope <a href="Ermine-Syntax-Pattern.html#t:PatternPath">PatternPath</a> c a)] -&gt; m (c a) <a href="src/Ermine-Pattern-Matching.html#compileCase" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.1</p></div></body></html>